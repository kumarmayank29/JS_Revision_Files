<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            font-family: sans-serif;
            background-color: coral;
            display:grid;
            place-items:center;
            height:100vh

        }
        card{
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="Container"></div>
    <script>
        const container=document.getElementById("Container")
        const request = new XMLHttpRequest();                           //Create an instance of function XMLHttpRequest
        request.open('GET',"https://restcountries.com/v3.1/name/nepal")//Create a request to fetch the Data from API using 'GET' method for this we use request.open('GET/PUT/...',"API URL")
        request.send()


        //To Receive the Response
        //To get the response data which is stored in request object
        // we use this.responseText 
        request.addEventListener('load', function(){ 
        //console.log(this.responseText) //The data received in console is in form of array of objects and it needs to be converted to JSON format 
        const [data]=JSON.parse(this.responseText) //This line converts array of objects to JS object(JSON) which is understood by JS
        console.log(data)
        //console.log(data.capital) To fetch dynamic data at real time  from object we use data.infowewant
        const htmlData=`
        
                    <div id="card">
                    <article class="card">
                    <div class="card-body">
                    <img src="${data.flags.png}" alt="" class="card-body-img" />
                    <h1 class="card-body-title">
                    ${data.name.common}<span></span>
                    </h1>
                    <p class="card-body-text"> capital: ${data.capital}</p>
                    </div>
                    <div class="card-footer">
                    <div class="card-footer-social"> 
                    <h3>${data.name.nativeName.nep.common}</h3> 
                    <p>Native Language</p>
                    </div>
                    <div class="card-footer-social">
                    <h3> ${data.population}</h3> 
                    <p>Population</p>
                    </div>
                    <div class="card-footer-social">
                    <h3>${data.demonym}</h3>
                    <p>Demonym</p>
                    </div>
                    </div> 
                    </article>
                    </div> `
                    container.insertAdjacentHTML("afterbegin",htmlData)
                })



// // we need to call the api or request the api using GET method ki, me jo
// // url pass kar kr rha hu uska data chaiye 
// request.open('GET', "https://covid-api.mmediagroup.fr/v1");
// request.send(); // we need to send the request and its async so we need to 
// // add the event to load the data adn get it

// // to get the response 
// request.addEventListener("load", () => {
//     console.log(this.responseText);
// });


    </script>
    
</body>
</html>


<!-- // ðŸ‘‰ JSON.stringify turns a JavaScript object into JSON text and 
// stores that JSON text in a string, eg:

// var my_object = { key_1: "some text", key_2: true, key_3: 5 };

// var object_as_string = JSON.stringify(my_object);  
// // "{"key_1":"some text","key_2":true,"key_3":5}"  

// console.log(object_as_string);

// typeof(object_as_string);  
// "string" 


// // ðŸ‘‰ JSON.parse turns a string of JSON text into a JavaScript object, eg:

// var object_as_string_as_object = JSON.parse(object_as_string);  
// // {key_1: "some text", key_2: true, key_3: 5} 

// typeof(object_as_string_as_object);  
// // "object" -->